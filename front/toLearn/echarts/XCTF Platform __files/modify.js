function exit(a,b,c){$.ajax({url:a,async:!1,type:"GET",success:function(a){0==a.error_code?window.location.href=c:alert(a.error_message)},error:function(){alert(b)}})}function getValidateMsg(a){return $(a).valid()?null:gettext("填写有误!")}function updateInfo(a,b){myShowError();var c=getValidateMsg($("#validateInfoForm"));if(null!=c)return void myShowError(c);var d=$("#changeuseremail").val();$.ajax({url:a,type:"PUT",data:{email:d},success:function(a){var b=a.error_code;0==b?($("#changeinfo").modal("hide"),window.location.reload()):myShowError(getErrorMsg(b))},error:function(){myShowError(b)}})}function updatePwd(a,b,c,d){current=2,myShowError();var e=getValidateMsg($("#validatePasswordForm"));if(null!=e)return void myShowError(e);var f=$("#oldpassword").val(),g=$("#newuserpassword").val(),h=$("#changeuserpassword").val();$.ajax({url:b,type:"PUT",data:{username:a,current_password:f,new_password:g,confirm_password:h},success:function(a){var b=a.error_code;if(0==b){$("#validatePasswordForm").hide(),$("#changPwdSuccess").show();var c=$("#second")[0],d=5;setInterval(function(){d--,c.innerHTML=d,1==d&&(window.location.href="/login/")},1e3)}else myShowError(getErrorMsg(b))},error:function(){myShowError(d)}})}function myShowError(a){var b=$("#errorInfo1"),c=$("#error_info1");2==current&&(b=$("#errorInfo2"),c=$("#error_info2")),showErrmsg(a,b,c)}function siderbarSelect(a){$(a).addClass("sidebarli_click").siblings().removeClass("sidebarli_click")}function initModify(){var a=window.location.href;a.indexOf("notice")>0?siderbarSelect($("#noticeSide")):a.indexOf("practice")>0||a.indexOf("categories")>0||a.indexOf("basictraining")>0||a.indexOf("defense")>0||a.indexOf("event")>0||a.indexOf("task")>0||a.indexOf("traincenter")>0||a.indexOf("personalpoints")>0?siderbarSelect($("#practiceSide")):a.indexOf("exam")>0?siderbarSelect($("#examSide")):a.indexOf("score")>0&&siderbarSelect($("#scoreSide"))}var current=1;